<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>fetchingLatLonByZPID</title>
</head>
<body>

<script type="module">

  async function fetchZillowData(address, citystatezip, zwsId) {
    // Construct the endpoint URL
    const baseUrl = "http://www.zillow.com/webservice/GetSearchResults.htm";
    const encodedAddress = encodeURIComponent(address);
    const encodedCityStateZip = encodeURIComponent(citystatezip);

    const url = `${baseUrl}?zws-id=${zwsId}&address=${encodedAddress}&citystatezip=${encodedCityStateZip}`;

    try {
      const response = await fetch(url);
      const xmlText = await response.text();

      // Convert the XML response to JSON (using any XML to JSON library or approach you prefer)
      const jsonResponse = convertXmlToJson(xmlText);  // Implement this function

      const latitude = jsonResponse.response.results.result.address.latitude;
      const longitude = jsonResponse.response.results.result.address.longitude;

      console.log("Latitude:", latitude, "Longitude:", longitude);

      return { latitude, longitude };
    } catch (error) {
      console.error("Error fetching data from Zillow:", error);
    }
  }

  // Usage example
  const zwsId = "YOUR_ZWS_ID";  // Replace with your ZWS ID
  fetchZillowData("1234 Main St", "Anytown, WA 98004", zwsId);

</script>

</body>
</html>