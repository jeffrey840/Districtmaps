<!DOCTYPE html>
<html>
<head>
	<title>Fetch Property Types</title>
</head>
<body>

<h1>Property Types from Listings</h1>

<script>
	async function fetchPropertyTypes(urls) {
		try {
			const allPropertyTypes = [];

			for (const url of urls) {
				const response = await fetch(url);

				if (!response.ok) {
					throw new Error('Network response was not ok.');
				}

				const data = await response.json();

				if (!data || !Array.isArray(data.props)) {
					throw new Error('Invalid data format.');
				}

				const propertyTypes = data.props.map(property => property.propertyType);
				allPropertyTypes.push(...propertyTypes);
			}

			console.log('Property Types from Listings:');
			console.log(allPropertyTypes);

			return allPropertyTypes;
		} catch (error) {
			console.error('Error fetching data:', error);
			return [];
		}
	}

	// URLs for different endpoints
	const endpoints = [
		'https://raw.githubusercontent.com/jeffrey840/zipcode_2/main/zillow_listings_77091_page1.json',
		'https://raw.githubusercontent.com/jeffrey840/zipcode_2/main/zillow_listings_77091_page2.json',
		'https://raw.githubusercontent.com/jeffrey840/zipcode_2/main/zillow_listings_77096_page2.json'
	];

	// Call the function to fetch and log the property types
	fetchPropertyTypes(endpoints);
</script>

</body>
</html>
