<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>


<script>


	// ... [Previous code] ...

	let infoWindow = new google.maps.InfoWindow();

	function updateMapMarkers(items) {
		// Clear existing markers
		markers.forEach(marker => marker.setMap(null));
		markers = [];

		// Add new markers
		items.forEach(item => {
			if (item.latitude && item.longitude) {
				const marker = new google.maps.Marker({
					position: { lat: parseFloat(item.latitude), lng: parseFloat(item.longitude) },
					map: map,
					icon: redMarker
				});

				// Adding click event listener for each marker
				marker.addListener('click', () => {
					const content = `
                    <div>
                        <h3>${item.address}</h3>
                        <p>Price: $${item.price}</p>
                        <p>Type: ${item.propertyType}</p>
                        <a href="https://www.zillow.com${item.detailUrl}" target="_blank">View on Zillow</a>
                    </div>
                `;
					infoWindow.setContent(content);
					infoWindow.open(map, marker);
				});

				markers.push(marker);
			}
		});
	}

	// ... [Rest of the code] ...



</script>


</body>
</html>